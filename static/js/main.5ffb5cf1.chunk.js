(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(7),i=a.n(r),c=(a(15),a(8)),d=a(1),s=a(2),l=a(4),w=a(3),u=a(5),m=(a(17),a(19),function(e){function t(){var e,a;Object(d.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(n)))).state={recording:!1},a.startVid=function(){window.video=document.querySelector("video#record"),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(function(e){window.video.srcObject=e,window.stream=e}).catch(function(e){switch(e.code){case 0:alert("We need your camera and microphone permissions");break;case 8:alert("You don't have a camera/microphone attached to your system");break;default:alert("Couldn't get your media devices")}console.log(e)})},a.stopVid=function(){window.stream&&window.stream.getTracks().forEach(function(e){e.stop()})},a.handleDataAvailable=function(e){e.data&&e.data.size>0&&window.recordedBlobs.push(e.data)},a.startRecording=function(){a.setState({recording:!0});var e={mimeType:"video/webm;codecs=vp9",bitsPerSecond:1e5};window.recordedBlobs=[];try{window.mediaRecorder=new MediaRecorder(window.stream,e)}catch(t){console.log("Unable to create MediaRecorder with options Object: ",e,t);try{e={mimeType:"video/webm;codecs=vp8",bitsPerSecond:1e5},window.mediaRecorder=new MediaRecorder(window.stream,e)}catch(o){console.log("Unable to create MediaRecorder with options Object: ",e,o);try{e="video/mp4",window.mediaRecorder=new MediaRecorder(window.stream,e)}catch(n){return a.setState({recording:!1}),alert("Not supported by this browser."),void console.error("Exception while creating MediaRecorder:",n)}}}window.mediaRecorder.ondataavailable=a.handleDataAvailable,window.mediaRecorder.start(10)},a.stopRecording=function(){a.setState({recording:!1}),window.mediaRecorder.stop();var e=new Blob(window.recordedBlobs,{type:"video/webm"}),t=new Blob([window.recordedBlobs[0],window.recordedBlobs[1]],{type:"video/webm"});e=new File([e],Date.now(),{type:"video/webm",lastModified:Date.now()}),t=new File([t],Date.now(),{type:"video/webm",lastModified:Date.now()});var o=window.URL.createObjectURL(e),n=window.URL.createObjectURL(t);a.props.updateList({src:o,thumbnail:n})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.startVid()}},{key:"render",value:function(){return n.a.createElement("div",{className:"record-btn-wrap"},n.a.createElement("button",{onClick:this.startRecording,disabled:this.state.recording},"Record"),n.a.createElement("button",{onClick:this.stopRecording,disabled:!this.state.recording},"Stop"))}}]),t}(o.Component)),p=function(e){function t(){var e,a;Object(d.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(n)))).state={vidList:[],currentlyPlaying:""},a.updateList=function(e,t){var o=Object(c.a)(a.state.vidList);t?o.splice(t,1):o.push(e),a.setState({vidList:o}),window.localStorage.setItem("vidList",JSON.stringify(o))},a.showVid=function(e){a.setState({currentlyPlaying:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,"Capture & Play"),n.a.createElement("div",{className:"recorder-wrap"},n.a.createElement("div",null,n.a.createElement("p",null,"Live Video"),n.a.createElement("video",{id:"record",autoPlay:!0})),n.a.createElement("div",null,n.a.createElement("p",null,"Recorded Video"),n.a.createElement("video",{id:"play",src:this.state.currentlyPlaying,autoPlay:!0,controls:!0}))),n.a.createElement(m,{updateList:this.updateList}),n.a.createElement("hr",null),n.a.createElement("p",null,"Recorded Video List"),n.a.createElement("div",{className:"list-wrap"},this.state.vidList&&this.state.vidList.map(function(t,a){return n.a.createElement("div",{key:t.thumbnail,className:"thumbnail"},n.a.createElement("video",{src:t.thumbnail,onClick:function(){return e.showVid(t.src)}}),n.a.createElement("button",{onClick:function(){e.updateList(t,a)}},"Delete"))})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(21)}},[[9,2,1]]]);
//# sourceMappingURL=main.5ffb5cf1.chunk.js.map